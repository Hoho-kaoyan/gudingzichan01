# 固定资产管理系统 - 测试用例文档（第二部分）

## 文档信息

| 项目 | 内容 |
|------|------|
| **文档名称** | 固定资产管理系统测试用例文档（第二部分） |
| **文档版本** | 1.0 |
| **编写日期** | 2025年 |
| **测试范围** | 资产编辑申请、审批管理、资产历史记录、安全检查任务管理、统计看板 |
| **测试目的** | 从用户角度验证系统核心功能是否正常工作 |

---

## 一、资产编辑申请功能测试

### 1.1 正常流程（普通用户）

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-EDIT-001 | 提交资产编辑申请 | 普通用户已登录，该用户名下存在资产 | 1. 进入资产管理页面<br>2. 找到自己名下的资产<br>3. 点击"编辑"按钮<br>4. 修改资产信息（如实物名称、规格型号、MAC地址、IP地址、存放地点等）<br>5. 注意：使用人字段不可编辑<br>6. 点击"提交申请" | 编辑申请提交成功，显示成功提示"编辑申请已提交，等待管理员审批"，申请状态为"待审批"，资产信息暂不更新 | 高 |
| TC-EDIT-002 | 查看编辑申请列表 | 普通用户已登录，已提交过编辑申请 | 1. 进入资产管理页面<br>2. 查看资产列表中的"编辑申请"列 | 显示每个资产的编辑申请状态（待审批/已通过/已拒绝），可以点击查看详情 | 高 |
| TC-EDIT-003 | 查看编辑申请详情 | 普通用户已登录，存在编辑申请 | 1. 在资产列表中找到有编辑申请的资产<br>2. 点击"编辑申请"列中的"查看"按钮<br>3. 查看申请详情 | 显示申请的完整信息，包括资产信息、申请时间、状态、修改的字段及新旧值对比、审批人、审批时间、审批意见等 | 中 |
| TC-EDIT-004 | 修改多个字段 | 普通用户已登录，该用户名下存在资产 | 1. 点击"编辑"按钮<br>2. 同时修改多个字段（如实物名称、MAC地址、存放地点、备注说明）<br>3. 提交申请 | 申请中包含所有修改的字段，管理员可以看到完整的修改内容 | 高 |
| TC-EDIT-005 | 编辑申请-仅修改可选字段 | 普通用户已登录，该用户名下存在资产 | 1. 点击"编辑"按钮<br>2. 只修改可选字段（如备注说明）<br>3. 提交申请 | 申请提交成功，包含修改的字段信息 | 中 |

### 1.2 异常流程

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-EDIT-006 | 编辑他人资产 | 普通用户已登录，尝试编辑不属于自己的资产 | 1. 通过URL或其他方式尝试编辑他人资产<br>2. 观察系统响应 | 显示无权限提示或自动跳转，不允许编辑，或资产选择列表中不显示他人资产 | 高 |
| TC-EDIT-007 | 尝试修改使用人 | 普通用户已登录，该用户名下存在资产 | 1. 点击"编辑"按钮<br>2. 尝试修改"使用人"字段 | 使用人字段禁用或隐藏，不允许修改，显示提示"普通用户不能修改使用人" | 高 |
| TC-EDIT-008 | 提交空修改 | 普通用户已登录，该用户名下存在资产 | 1. 点击"编辑"按钮<br>2. 不修改任何字段<br>3. 点击"提交申请" | 显示提示"请至少修改一个字段"或不允许提交 | 中 |
| TC-EDIT-009 | 提交格式错误的数据 | 普通用户已登录，该用户名下存在资产 | 1. 点击"编辑"按钮<br>2. 修改MAC地址为错误格式（如：不是MAC地址格式）<br>3. 修改IP地址为错误格式（如：不是IP地址格式）<br>4. 提交申请 | 显示格式错误提示，不允许提交 | 中 |
| TC-EDIT-010 | 资产已有待审批申请 | 普通用户已登录，该资产已有待审批的编辑申请 | 1. 找到已有待审批申请的资产<br>2. 再次点击"编辑"按钮<br>3. 尝试提交新的编辑申请 | 显示提示"该资产已有待审批的编辑申请，请等待审批完成"或不允许重复提交 | 中 |

### 1.3 权限相关

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-EDIT-011 | 管理员直接编辑资产 | 管理员已登录，资产列表中存在资产 | 1. 点击资产列表中的"编辑"按钮<br>2. 修改资产信息<br>3. 点击"确定" | 资产信息直接更新，无需提交申请，显示成功提示，资产历史记录中记录编辑操作 | 高 |
| TC-EDIT-012 | 管理员可以修改使用人 | 管理员已登录，资产列表中存在资产 | 1. 点击"编辑"按钮<br>2. 修改"使用人"字段<br>3. 点击"确定" | 使用人字段可编辑，修改成功，资产信息更新 | 高 |

---

## 二、审批管理功能测试

### 2.1 正常流程（管理员）

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-APPROVAL-001 | 查看待审批申请列表 | 管理员已登录，系统中存在待审批的申请 | 1. 点击左侧菜单"审批管理"<br>2. 查看待审批申请列表 | 显示所有待审批的申请，使用标签页分类显示（交接申请、退回申请、编辑申请），每个标签页显示对应的申请数量 | 高 |
| TC-APPROVAL-002 | 查看交接申请详情 | 管理员已登录，存在待审批的交接申请 | 1. 进入审批管理页面<br>2. 点击"交接申请"标签页<br>3. 点击某个申请查看详情 | 显示申请的完整信息，包括资产信息、转出人、转入人、申请时间、交接原因、申请状态等 | 高 |
| TC-APPROVAL-003 | 批准交接申请 | 管理员已登录，存在待审批的交接申请（已确认） | 1. 进入审批管理页面<br>2. 点击"交接申请"标签页<br>3. 找到状态为"待审批"的申请<br>4. 点击"批准"按钮<br>5. 填写审批意见（可选）<br>6. 点击"确定" | 审批成功，申请状态变为"已批准"，资产的使用人更新为转入用户，使用人组别自动更新，资产历史记录中记录交接操作，申请列表刷新 | 高 |
| TC-APPROVAL-004 | 拒绝交接申请 | 管理员已登录，存在待审批的交接申请 | 1. 进入审批管理页面<br>2. 点击"交接申请"标签页<br>3. 找到待审批的申请<br>4. 点击"拒绝"按钮<br>5. 填写拒绝原因（可选）<br>6. 点击"确定" | 审批成功，申请状态变为"已拒绝"，资产信息不变，资产历史记录中记录拒绝操作，申请列表刷新 | 高 |
| TC-APPROVAL-005 | 查看退回申请详情 | 管理员已登录，存在待审批的退回申请 | 1. 进入审批管理页面<br>2. 点击"退回申请"标签页<br>3. 点击某个申请查看详情 | 显示申请的完整信息，包括资产信息、退回人、申请时间、退回原因、修改的资产信息（如有）等 | 高 |
| TC-APPROVAL-006 | 批准退回申请 | 管理员已登录，存在待审批的退回申请 | 1. 进入审批管理页面<br>2. 点击"退回申请"标签页<br>3. 找到待审批的申请<br>4. 点击"批准"按钮<br>5. 填写审批意见（可选）<br>6. 点击"确定" | 审批成功，申请状态变为"已批准"，资产的使用人清空（或更新为新保管人），资产状态变为"库存备用"，更新存放地点等信息（如果申请中有填写），资产历史记录中记录退回操作 | 高 |
| TC-APPROVAL-007 | 拒绝退回申请 | 管理员已登录，存在待审批的退回申请 | 1. 进入审批管理页面<br>2. 点击"退回申请"标签页<br>3. 找到待审批的申请<br>4. 点击"拒绝"按钮<br>5. 填写拒绝原因（可选）<br>6. 点击"确定" | 审批成功，申请状态变为"已拒绝"，资产信息不变，资产历史记录中记录拒绝操作 | 高 |
| TC-APPROVAL-008 | 查看编辑申请详情 | 管理员已登录，存在待审批的编辑申请 | 1. 进入审批管理页面<br>2. 点击"编辑申请"标签页<br>3. 点击某个申请查看详情 | 显示申请的完整信息，包括资产信息、申请人、申请时间、修改的字段及新旧值对比等 | 高 |
| TC-APPROVAL-009 | 批准编辑申请 | 管理员已登录，存在待审批的编辑申请 | 1. 进入审批管理页面<br>2. 点击"编辑申请"标签页<br>3. 找到待审批的申请<br>4. 点击"批准"按钮<br>5. 填写审批意见（可选）<br>6. 点击"确定" | 审批成功，申请状态变为"已批准"，资产信息按申请内容更新，资产历史记录中记录编辑操作 | 高 |
| TC-APPROVAL-010 | 拒绝编辑申请 | 管理员已登录，存在待审批的编辑申请 | 1. 进入审批管理页面<br>2. 点击"编辑申请"标签页<br>3. 找到待审批的申请<br>4. 点击"拒绝"按钮<br>5. 填写拒绝原因（可选）<br>6. 点击"确定" | 审批成功，申请状态变为"已拒绝"，资产信息不变，资产历史记录中记录拒绝操作 | 高 |
| TC-APPROVAL-011 | 批量查看不同状态的申请 | 管理员已登录，系统中存在不同状态的申请 | 1. 进入审批管理页面<br>2. 分别查看三个标签页（交接、退回、编辑）<br>3. 观察申请数量统计 | 每个标签页正确显示待审批申请的数量，已审批的申请不显示在待审批列表中 | 中 |
| TC-APPROVAL-012 | 审批时查看资产当前信息 | 管理员已登录，存在待审批的申请 | 1. 进入审批管理页面<br>2. 点击某个申请查看详情<br>3. 查看资产当前信息与申请修改内容的对比 | 清晰显示资产当前信息和申请要修改的内容，便于管理员做出审批决定 | 中 |

### 2.2 异常流程

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-APPROVAL-013 | 审批已处理的申请 | 管理员已登录，尝试审批已批准或已拒绝的申请 | 1. 尝试通过URL或其他方式审批已处理的申请<br>2. 观察系统响应 | 显示错误提示"该申请已处理"或不允许操作 | 中 |
| TC-APPROVAL-014 | 审批交接申请-资产已被删除 | 管理员已登录，交接申请中的资产已被删除 | 1. 找到包含已删除资产的交接申请<br>2. 尝试批准 | 显示错误提示"资产不存在"或"资产已被删除"，不允许审批 | 中 |
| TC-APPROVAL-015 | 审批交接申请-转入用户不存在 | 管理员已登录，交接申请的转入用户已被删除 | 1. 找到转入用户不存在的交接申请<br>2. 尝试批准 | 显示错误提示"转入用户不存在"，不允许审批 | 中 |
| TC-APPROVAL-016 | 审批退回申请-资产状态已变更 | 管理员已登录，退回申请中的资产状态已不是"在用" | 1. 找到资产状态已变更的退回申请<br>2. 尝试批准 | 显示警告提示，或根据业务规则处理（如允许批准但更新状态） | 低 |

### 2.3 权限相关

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-APPROVAL-017 | 普通用户访问审批管理 | 普通用户已登录 | 1. 尝试访问审批管理页面（直接输入URL或点击菜单） | 显示无权限提示或自动跳转到首页，菜单中不显示"审批管理" | 高 |
| TC-APPROVAL-018 | 普通用户调用审批API | 普通用户已登录，使用开发者工具 | 1. 使用普通用户token调用审批API<br>2. 观察响应 | 返回403权限不足错误 | 高 |

---

## 三、资产历史记录功能测试

### 3.1 正常流程

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-HISTORY-001 | 查看资产历史记录 | 用户已登录，资产存在历史记录 | 1. 进入资产管理页面<br>2. 找到某个资产<br>3. 点击"历史记录"按钮或图标<br>4. 查看资产历史记录页面 | 显示该资产的完整流转记录，以时间线形式展示，包括创建、编辑、交接、退回、审批、删除等所有操作 | 高 |
| TC-HISTORY-002 | 查看历史记录详情 | 用户已登录，资产存在历史记录 | 1. 进入资产历史记录页面<br>2. 查看某条历史记录的详细信息 | 显示操作类型、操作时间、操作人、操作描述、变更详情（旧值和新值对比）等完整信息 | 高 |
| TC-HISTORY-003 | 查看创建记录 | 用户已登录，资产存在创建记录 | 1. 进入资产历史记录页面<br>2. 找到创建记录（通常是最早的记录） | 显示资产创建时间、创建人、创建时的资产信息 | 中 |
| TC-HISTORY-004 | 查看编辑记录 | 用户已登录，资产存在编辑记录 | 1. 进入资产历史记录页面<br>2. 找到编辑记录 | 显示编辑时间、编辑人、修改的字段及新旧值对比 | 中 |
| TC-HISTORY-005 | 查看交接记录 | 用户已登录，资产存在交接记录 | 1. 进入资产历史记录页面<br>2. 找到交接记录 | 显示交接时间、转出人、转入人、审批人、交接原因等信息 | 中 |
| TC-APPROVAL-006 | 查看退回记录 | 用户已登录，资产存在退回记录 | 1. 进入资产历史记录页面<br>2. 找到退回记录 | 显示退回时间、退回人、审批人、退回原因等信息 | 中 |
| TC-HISTORY-007 | 查看审批记录 | 用户已登录，资产存在审批记录 | 1. 进入资产历史记录页面<br>2. 找到审批记录 | 显示审批时间、审批人、审批结果（批准/拒绝）、审批意见等信息 | 中 |
| TC-HISTORY-008 | 查看删除记录 | 管理员已登录，资产已被删除 | 1. 查看已删除资产的历史记录（如果系统支持） | 显示删除时间、删除人等信息 | 低 |
| TC-HISTORY-009 | 历史记录时间排序 | 用户已登录，资产存在多条历史记录 | 1. 进入资产历史记录页面<br>2. 查看历史记录列表 | 历史记录按时间倒序排列（最新的在前），时间线清晰展示 | 中 |
| TC-HISTORY-010 | 历史记录操作类型标识 | 用户已登录，资产存在多种类型的历史记录 | 1. 进入资产历史记录页面<br>2. 查看不同操作类型的记录 | 不同操作类型使用不同颜色标签或图标标识，易于区分 | 低 |

### 3.2 异常流程

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-HISTORY-011 | 查看无历史记录的资产 | 用户已登录，资产刚创建无其他操作 | 1. 进入资产历史记录页面<br>2. 查看历史记录 | 显示创建记录，或提示"暂无其他历史记录" | 低 |
| TC-HISTORY-012 | 查看不存在的资产历史 | 用户已登录 | 1. 通过URL访问不存在的资产ID的历史记录<br>2. 观察系统响应 | 显示错误提示"资产不存在"或404错误 | 中 |
| TC-HISTORY-013 | 普通用户查看他人资产历史 | 普通用户已登录，尝试查看他人资产的历史记录 | 1. 通过URL或其他方式尝试查看他人资产的历史记录<br>2. 观察系统响应 | 显示无权限提示或自动跳转，不允许查看 | 高 |

### 3.3 权限相关

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-HISTORY-014 | 管理员查看所有资产历史 | 管理员已登录 | 1. 进入资产管理页面<br>2. 查看任意资产的历史记录 | 可以查看所有资产的历史记录，不受限制 | 高 |
| TC-HISTORY-015 | 普通用户查看自己资产历史 | 普通用户已登录，该用户名下存在资产 | 1. 进入资产管理页面<br>2. 查看自己资产的历史记录 | 可以正常查看自己资产的历史记录 | 高 |

---

## 四、安全检查任务管理功能测试

### 4.1 检查类型管理（管理员）

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-SAFETY-TYPE-001 | 查看检查类型列表 | 管理员已登录 | 1. 进入安全检查任务管理页面<br>2. 点击"检查类型管理"按钮<br>3. 查看检查类型列表 | 显示所有检查类型，包括类型名称、描述、检查项、是否启用、创建时间等信息 | 高 |
| TC-SAFETY-TYPE-002 | 新增检查类型 | 管理员已登录 | 1. 进入检查类型管理<br>2. 点击"新增"按钮<br>3. 填写类型名称（必填）<br>4. 填写描述（可选）<br>5. 添加检查项（可添加多个，每个检查项可设置是否必填）<br>6. 点击"确定" | 检查类型创建成功，显示成功提示，类型列表刷新显示新类型，新类型可用于创建任务 | 高 |
| TC-SAFETY-TYPE-003 | 编辑检查类型 | 管理员已登录，存在检查类型 | 1. 进入检查类型管理<br>2. 点击某个类型的"编辑"按钮<br>3. 修改类型名称、描述或检查项<br>4. 点击"确定" | 检查类型更新成功，显示成功提示，类型列表刷新显示更新后的信息 | 高 |
| TC-SAFETY-TYPE-004 | 启用/停用检查类型 | 管理员已登录，存在检查类型 | 1. 进入检查类型管理<br>2. 切换某个类型的启用/停用状态 | 状态更新成功，已停用的类型不能用于新建任务，但已创建的任务不受影响 | 中 |
| TC-SAFETY-TYPE-005 | 删除检查类型 | 管理员已登录，存在未被使用的检查类型 | 1. 进入检查类型管理<br>2. 点击某个类型的"删除"按钮<br>3. 在确认对话框中点击"确定" | 检查类型删除成功，显示成功提示，类型从列表中移除 | 中 |
| TC-SAFETY-TYPE-006 | 检查类型名称唯一性 | 管理员已登录，已存在某个检查类型 | 1. 尝试创建同名检查类型<br>2. 观察系统响应 | 显示错误提示"检查类型名称已存在"，不允许创建 | 中 |

### 4.2 任务创建（管理员）

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-SAFETY-TASK-001 | 创建安全检查任务 | 管理员已登录，存在检查类型和资产 | 1. 进入安全检查任务管理页面<br>2. 点击"新增任务"按钮<br>3. 第一步：选择检查类型、填写任务标题、描述、截止时间（可选）<br>4. 第二步：筛选资产（可按大类、状态、使用人等筛选）<br>5. 第三步：选择要检查的资产（可多选）<br>6. 点击"创建任务" | 任务创建成功，显示成功提示，系统自动为每个资产分配任务给资产的使用人，任务状态为"进行中"，任务列表刷新 | 高 |
| TC-SAFETY-TASK-002 | 创建任务-筛选资产 | 管理员已登录，存在多种资产 | 1. 进入创建任务流程<br>2. 在资产选择步骤中，使用筛选条件（如：大类=办公用品，状态=在用）<br>3. 查看筛选结果<br>4. 选择资产并创建任务 | 筛选功能正常，只显示符合筛选条件的资产，可以正确选择并创建任务 | 中 |
| TC-SAFETY-TASK-003 | 创建任务-批量选择资产 | 管理员已登录，存在多个资产 | 1. 进入创建任务流程<br>2. 在资产选择步骤中，使用全选或批量选择功能<br>3. 选择多个资产<br>4. 创建任务 | 批量选择功能正常，所有选中的资产都被加入任务，任务分配给各资产的使用人 | 中 |
| TC-SAFETY-TASK-004 | 查看任务列表 | 管理员已登录，系统中存在任务 | 1. 进入安全检查任务管理页面<br>2. 查看任务列表 | 显示所有任务，包括任务编号、标题、检查类型、状态、资产总数、已完成数、待完成数、截止时间、创建人、创建时间等 | 高 |
| TC-SAFETY-TASK-005 | 查看任务详情 | 管理员已登录，存在任务 | 1. 进入任务列表<br>2. 点击某个任务的"查看"按钮<br>3. 查看任务详情 | 显示任务的完整信息，包括任务基本信息、分配的资产列表、每个资产的检查状态、检查人等 | 高 |
| TC-SAFETY-TASK-006 | 筛选任务 | 管理员已登录，任务列表已加载 | 1. 在任务列表中使用筛选条件（如：状态、检查类型、创建时间范围）<br>2. 点击"搜索" | 显示符合筛选条件的任务 | 中 |
| TC-SAFETY-TASK-007 | 编辑任务 | 管理员已登录，存在进行中的任务 | 1. 进入任务列表<br>2. 点击某个任务的"编辑"按钮<br>3. 修改任务信息（如标题、描述、截止时间）<br>4. 点击"确定" | 任务信息更新成功，显示成功提示，任务列表刷新 | 中 |
| TC-SAFETY-TASK-008 | 取消任务 | 管理员已登录，存在进行中的任务 | 1. 进入任务列表<br>2. 点击某个任务的"取消"按钮<br>3. 在确认对话框中点击"确定" | 任务状态变为"已取消"，未完成的检查项不再需要完成 | 中 |
| TC-SAFETY-TASK-009 | 任务自动分配 | 管理员已登录，创建任务时选择的资产有使用人 | 1. 创建任务，选择多个有使用人的资产<br>2. 观察任务分配结果 | 每个资产的任务自动分配给资产的使用人，使用人可以在"我的安全检查任务"中看到任务 | 高 |
| TC-SAFETY-TASK-010 | 任务编号自动生成 | 管理员已登录 | 1. 创建新任务<br>2. 观察任务编号 | 系统自动生成任务编号（格式：SAFETY-YYYY-NNN），编号唯一且递增 | 低 |

### 4.3 任务执行（普通用户）

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-SAFETY-EXEC-001 | 查看我的安全检查任务 | 普通用户已登录，该用户有分配的安全检查任务 | 1. 点击左侧菜单"我的安全检查任务"<br>2. 查看任务列表 | 显示分配给该用户的所有任务，使用标签页分类（待检查/已完成/全部），显示每个任务的资产数量、已完成数量、截止时间等 | 高 |
| TC-SAFETY-EXEC-002 | 开始检查任务 | 普通用户已登录，存在待检查的任务 | 1. 进入"我的安全检查任务"页面<br>2. 找到待检查的任务<br>3. 点击"开始检查"按钮 | 进入检查页面，显示该任务的所有资产列表，显示检查类型和检查项 | 高 |
| TC-SAFETY-EXEC-003 | 完成单个资产检查 | 普通用户已登录，正在执行检查任务 | 1. 在检查页面中，选择第一个资产<br>2. 根据检查项逐项检查<br>3. 填写检查结果（合格/不合格）<br>4. 填写检查备注（可选）<br>5. 点击"提交"或"下一个" | 该资产的检查结果保存成功，可以继续检查下一个资产，或返回任务列表 | 高 |
| TC-SAFETY-EXEC-004 | 完成所有资产检查 | 普通用户已登录，正在执行检查任务 | 1. 在检查页面中，逐个完成所有资产的检查<br>2. 完成最后一个资产后，点击"完成"或"提交" | 所有资产的检查结果保存成功，任务状态更新，在"已完成"标签页中可以看到该任务 | 高 |
| TC-SAFETY-EXEC-005 | 检查结果-全部合格 | 普通用户已登录，正在执行检查任务 | 1. 完成所有资产的检查<br>2. 所有检查项都选择"合格"<br>3. 提交结果 | 检查结果保存成功，任务完成，管理员可以看到检查结果 | 中 |
| TC-SAFETY-EXEC-006 | 检查结果-存在不合格 | 普通用户已登录，正在执行检查任务 | 1. 完成所有资产的检查<br>2. 部分检查项选择"不合格"<br>3. 填写不合格原因或备注<br>4. 提交结果 | 检查结果保存成功，不合格项被标记，管理员可以看到详细的不合格情况 | 中 |
| TC-SAFETY-EXEC-007 | 查看检查历史 | 普通用户已登录，已完成检查任务 | 1. 进入"我的安全检查任务"页面<br>2. 点击"已完成"标签页<br>3. 查看已完成的任务 | 显示已完成的任务列表，可以查看检查详情和历史记录 | 中 |
| TC-SAFETY-EXEC-008 | 必填检查项验证 | 普通用户已登录，正在执行检查任务，检查类型包含必填检查项 | 1. 在检查页面中，不填写必填检查项<br>2. 尝试提交 | 显示提示"请完成所有必填检查项"，不允许提交 | 中 |
| TC-SAFETY-EXEC-009 | 检查任务截止时间提醒 | 普通用户已登录，存在接近截止时间的任务 | 1. 查看任务列表<br>2. 观察接近或超过截止时间的任务 | 接近或超过截止时间的任务有特殊标识或提醒，任务状态可能变为"逾期" | 低 |

### 4.4 异常流程

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-SAFETY-ERROR-001 | 创建任务-未选择资产 | 管理员已登录 | 1. 进入创建任务流程<br>2. 完成第一步（选择检查类型等）<br>3. 在资产选择步骤中不选择任何资产<br>4. 尝试创建任务 | 显示提示"请至少选择一个资产"，不允许创建 | 中 |
| TC-SAFETY-ERROR-002 | 创建任务-使用已停用的检查类型 | 管理员已登录，存在已停用的检查类型 | 1. 进入创建任务流程<br>2. 尝试选择已停用的检查类型 | 已停用的检查类型不可选或显示提示"该检查类型已停用" | 中 |
| TC-SAFETY-ERROR-003 | 创建任务-资产无使用人 | 管理员已登录，选择的资产没有使用人 | 1. 创建任务，选择没有使用人的资产<br>2. 观察系统处理 | 系统提示"部分资产没有使用人，将跳过"或分配给管理员，任务正常创建 | 中 |
| TC-SAFETY-ERROR-004 | 执行任务-任务已取消 | 普通用户已登录，尝试执行已取消的任务 | 1. 尝试开始检查一个已取消的任务 | 显示提示"该任务已取消"或不允许执行 | 中 |
| TC-SAFETY-ERROR-005 | 执行任务-任务已过期 | 普通用户已登录，尝试执行已过期的任务 | 1. 尝试开始检查一个已过期的任务 | 显示提示"该任务已过期"或任务状态为"逾期"，但仍可以完成检查 | 低 |
| TC-SAFETY-ERROR-006 | 删除检查类型-类型已被使用 | 管理员已登录，尝试删除已被任务使用的检查类型 | 1. 尝试删除一个已被任务使用的检查类型 | 显示错误提示"该检查类型已被使用，无法删除"或不允许删除 | 中 |

### 4.5 权限相关

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-SAFETY-PERM-001 | 普通用户访问任务管理 | 普通用户已登录 | 1. 尝试访问安全检查任务管理页面（直接输入URL） | 显示无权限提示或自动跳转，菜单中不显示"安全检查任务管理" | 高 |
| TC-SAFETY-PERM-002 | 普通用户只能查看自己的任务 | 普通用户已登录 | 1. 进入"我的安全检查任务"页面<br>2. 查看任务列表 | 只显示分配给该用户的任务，不显示其他用户的任务 | 高 |
| TC-SAFETY-PERM-003 | 管理员查看所有任务 | 管理员已登录 | 1. 进入安全检查任务管理页面<br>2. 查看任务列表 | 显示所有任务，不受用户限制，可以查看所有任务的执行情况 | 高 |

---

## 五、统计看板功能测试

### 5.1 正常流程

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-STATS-001 | 查看首页统计看板 | 用户已登录 | 1. 登录成功后自动跳转到首页，或点击左侧菜单"首页"<br>2. 查看统计看板 | 显示四个统计卡片：资产总数、在用资产、用户总数、待审批数量，数据准确显示 | 高 |
| TC-STATS-002 | 统计数据实时更新 | 管理员已登录，首页已加载 | 1. 在首页查看统计数据<br>2. 在后台新增一个资产<br>3. 刷新首页或等待自动刷新 | 资产总数增加，统计数据实时或准实时更新 | 中 |
| TC-STATS-003 | 统计卡片显示格式 | 用户已登录 | 1. 进入首页<br>2. 查看统计卡片的显示格式 | 统计卡片布局美观，数据清晰，使用图标标识，数字格式正确 | 低 |
| TC-STATS-004 | 待审批数量统计 | 管理员已登录，系统中存在待审批的申请 | 1. 进入首页<br>2. 查看"待审批"统计卡片<br>3. 进入审批管理页面验证 | 待审批数量准确统计所有待审批的申请（交接+退回+编辑），与审批管理页面的数量一致 | 高 |
| TC-STATS-005 | 在用资产统计 | 用户已登录 | 1. 进入首页<br>2. 查看"在用资产"统计卡片<br>3. 进入资产管理页面，筛选状态为"在用"的资产验证 | 在用资产数量准确，与资产管理页面筛选结果一致 | 中 |
| TC-STATS-006 | 用户总数统计 | 管理员已登录 | 1. 进入首页<br>2. 查看"用户总数"统计卡片<br>3. 进入用户管理页面验证 | 用户总数准确，与用户管理页面的用户数量一致 | 中 |
| TC-STATS-007 | 资产总数统计 | 用户已登录 | 1. 进入首页<br>2. 查看"资产总数"统计卡片<br>3. 进入资产管理页面验证 | 资产总数准确，包括所有状态的资产（在用+库存备用），与资产管理页面的总数一致 | 中 |

### 5.2 异常流程

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-STATS-008 | 统计数据加载失败 | 用户已登录，后端服务异常 | 1. 进入首页<br>2. 观察统计数据加载情况 | 显示加载失败提示或显示默认值（0），不影响页面其他功能 | 中 |
| TC-STATS-009 | 统计数据为空 | 新系统，无数据 | 1. 在新系统中登录<br>2. 进入首页查看统计 | 所有统计数据显示为0，页面正常显示，无错误 | 低 |

### 5.3 权限相关

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 期望结果 | 优先级 |
|--------|----------|----------|----------|----------|--------|
| TC-STATS-010 | 普通用户查看统计看板 | 普通用户已登录 | 1. 进入首页<br>2. 查看统计看板 | 可以正常查看统计看板，但可能某些统计数据对普通用户无意义（如用户总数） | 低 |
| TC-STATS-011 | 管理员查看统计看板 | 管理员已登录 | 1. 进入首页<br>2. 查看统计看板 | 可以查看完整的统计看板，所有统计数据都有意义 | 中 |

---

## 测试环境说明

### 测试数据准备

1. **管理员账户**
   - EHR号：0000001
   - 密码：admin123
   - 角色：管理员

2. **普通用户账户**
   - EHR号：1234567
   - 密码：123456
   - 角色：普通用户
   - 名下应有至少2个资产

3. **测试资产**
   - 至少准备10个资产，包括不同大类、不同状态
   - 部分资产分配给普通用户，部分为库存备用

4. **测试用户**
   - 至少准备3个普通用户，用于交接和任务分配测试

5. **检查类型**
   - 至少准备2个检查类型，包含不同的检查项

6. **待审批申请**
   - 准备至少1个交接申请（已确认，待审批）
   - 准备至少1个退回申请（待审批）
   - 准备至少1个编辑申请（待审批）

### 测试注意事项

1. 测试前确保后端服务运行在 `http://localhost:8000`
2. 测试前确保前端服务运行在 `http://localhost:5173` 或 `http://localhost:3000`
3. 测试过程中注意观察浏览器控制台是否有错误信息
4. 审批管理测试需要先有待审批的申请，建议先执行交接、退回、编辑申请的相关测试
5. 安全检查任务测试需要先创建检查类型，然后创建任务，最后执行检查
6. 资产历史记录测试需要资产有操作历史，建议先执行资产的增删改、交接、退回等操作
7. 测试完成后建议清理测试数据，避免影响后续测试
8. 权限相关测试需要分别使用管理员和普通用户账户进行验证

---

## 测试执行记录

| 用例ID | 执行日期 | 执行人 | 执行结果 | 备注 |
|--------|----------|--------|----------|------|
|        |          |        |          |      |

---

**文档结束**

